{"version":3,"sources":["src/app.ts","src/app.vm.ts","src/environment.ts","src/main.ts","src/resources/index.ts","src/rules/custom-email.rule.ts","src/utils/authen.service.ts","src/utils/constants.ts","src/utils/user.service.ts","src/components/dashboard/dashboard.ts","src/components/login/login.ts","src/components/notify/notify.ts","src/components/register/register.ts","src/utils/models/authen.ts","src/utils/models/index.ts","src/utils/models/password-change.ts","src/utils/models/tasklist.ts","src/utils/models/todo-search.ts","src/utils/models/todo.ts","src/utils/models/user.ts","src/utils/services/tasklist.service.ts","src/components/dashboard/profile/profile.ts","src/components/dashboard/tasklists/tasklists.ts","src/components/dashboard/tasklists/edit-tasklist/edit-tasklist.ts","src/components/dashboard/tasklists/share-tasklist/share-tasklist.ts","src/components/dashboard/tasklists/tasklist-detail/tasklist-detail.ts","src/app.routes.ts"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {NavigationInstruction, Next, PipelineStep, Redirect, RouterConfiguration, Router} from 'aurelia-router';\r\n\r\nexport class App {\r\n  router: Router;\r\n\r\n  configureRouter(config: RouterConfiguration, router: Router) {\r\n    config.title = 'Login';\r\n    config.addAuthorizeStep(AuthorizeStep);\r\n    config.map([\r\n      {route: 'login',     moduleId: 'components/login/login',          nav: true, name: 'login',     title: 'Login',     settings: { roles: [] }},\r\n      {route: 'register',  moduleId: 'components/register/register',    nav: true, name: 'register',  title: 'Register',  settings: { roles: [] }},\r\n      {route: 'dashboard', moduleId: 'components/dashboard/dashboard',  nav: true, name: 'dashboard', title: 'Dashboard', settings: { roles: ['admin'] }},\r\n      {route: '', redirect: 'login'},\r\n    ]);\r\n\r\n    this.router = router;\r\n  }\r\n}\r\n\r\nclass AuthorizeStep implements PipelineStep {\r\n  public run(navigationInstruction: NavigationInstruction, next: Next): Promise<any> {\r\n    if (navigationInstruction.getAllInstructions().some(i => i.config.settings.roles.indexOf('admin') !== -1)) {\r\n      let isAdmin = localStorage.getItem('authenIsOk');\r\n      if (!isAdmin) {\r\n        return next.cancel(new Redirect('login'));\r\n      }\r\n    }\r\n\r\n    return next();\r\n  }\r\n}\r\n","import { autoinject } from 'aurelia-framework';\r\nimport { ValidationRules } from 'aurelia-validation';\r\nimport { NavigationInstruction, Next, PipelineStep, Redirect, RouterConfiguration, Router } from 'aurelia-router';\r\nimport { customEmailValidationRule } from './rules/custom-email.rule';\r\n\r\n@autoinject()\r\nexport class AppViewModel {\r\n    private router: Router;\r\n\r\n    constructor() {\r\n        this.configureValidationRules();\r\n    }\r\n\r\n    configureRouter(config: RouterConfiguration, router: Router) {\r\n      config.title = 'Login';\r\n      config.addAuthorizeStep(AuthorizeStep);\r\n      config.map([\r\n        {route: 'login',     moduleId: 'components/login/login',          nav: true, name: 'login',     title: 'Login',     settings: { roles: [] }},\r\n        {route: 'register',  moduleId: 'components/register/register',    nav: true, name: 'register',  title: 'Register',  settings: { roles: [] }},\r\n        {route: 'dashboard', moduleId: 'components/dashboard/dashboard',  nav: true, name: 'dashboard', title: 'Dashboard', settings: { roles: ['admin'] }},\r\n        {route: '', redirect: 'login'},\r\n      ]);\r\n  \r\n      this.router = router;\r\n    }\r\n\r\n    private configureValidationRules(): void {\r\n        ValidationRules.customRule('customEmail', customEmailValidationRule, '');\r\n    }\r\n}\r\n\r\nclass AuthorizeStep implements PipelineStep {\r\n    public run(navigationInstruction: NavigationInstruction, next: Next): Promise<any> {\r\n        if (navigationInstruction.getAllInstructions().some(i => i.config.settings.roles.indexOf('admin') !== -1)) {\r\n            let isAdmin = localStorage.getItem('authenIsOk');\r\n            if (!isAdmin) {\r\n                return next.cancel(new Redirect('login'));\r\n            }\r\n        }\r\n\r\n        return next();\r\n    }\r\n}","export default {\r\n  debug: true,\r\n  testing: true\r\n};\r\n","import {Aurelia} from 'aurelia-framework'\r\nimport environment from './environment';\r\nimport {PLATFORM} from 'aurelia-pal';\r\n\r\nexport async function configure(aurelia: Aurelia): Promise<void> {\r\n  aurelia.use\r\n    .standardConfiguration()\r\n\r\n    .plugin(PLATFORM.moduleName('jquery-validation'))\r\n\r\n    .plugin(PLATFORM.moduleName('datatables'))\r\n\r\n    .plugin(PLATFORM.moduleName('aurelia-dialog'), config => {\r\n      config.useDefaults();\r\n      config.settings.startingZIndex = 1005;\r\n      config.settings.lock = true;\r\n      config.settings.centerHorizontalOnly = false;\r\n    })\r\n\r\n  if (environment.debug) {\r\n    aurelia.use.developmentLogging();\r\n  }\r\n\r\n  if (environment.testing) {\r\n    aurelia.use.plugin('aurelia-testing');\r\n  }\r\n\r\n  await aurelia.start();\r\n  await aurelia.setRoot(PLATFORM.moduleName('app.vm'));\r\n}\r\n","import {FrameworkConfiguration} from 'aurelia-framework';\r\n\r\nexport function configure(config: FrameworkConfiguration) {\r\n  //config.globalResources([]);\r\n}\r\n","export const customEmailValidationRule = (value: any): boolean | Promise<boolean> => {\r\n    const isEmail = new RegExp(\r\n        /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@/.source\r\n        + /((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.source\r\n    ).test(value);\r\n\r\n    return isEmail;\r\n};\r\n","import {autoinject} from 'aurelia-framework';\r\nimport {HttpClient} from 'aurelia-http-client';\r\nimport * as PRODUCT from './constants';\r\n\r\n@autoinject()\r\nexport class AuthenService {\r\n  defaultData = {'uid': {value: null}, 'client': {value: null}, 'access-token': {value: null}};\r\n  constructor(private httpClient: HttpClient) {\r\n  }\r\n\r\n  configHttpClient(uid, client, token) {\r\n    this.httpClient.configure(config => {\r\n      config\r\n        .withBaseUrl(PRODUCT.serverURL)\r\n        .withHeader('Content-Type', 'application/json; charset=utf-8')\r\n        .withHeader('Uid', uid)\r\n        .withHeader('Client', client)\r\n        .withHeader('Access-Token', token)\r\n    });\r\n  }\r\n\r\n  login(email: string, password: string) {\r\n    return this.httpClient.post(PRODUCT.userSignInPATH, {email: email, password: password})\r\n      .then((response) => {\r\n        localStorage.setItem('currentUser', JSON.stringify(response.headers.headers));\r\n        localStorage.setItem('authenIsOk', 'true');\r\n        return response;\r\n      })\r\n      .then(() => this.configHttpClient(this.getUserToken()['uid'].value, this.getUserToken()['client'].value, this.getUserToken()['access-token'].value))\r\n      .catch(this.handleError);\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem('currentUser');\r\n    localStorage.removeItem('authenIsOk');\r\n    this.configHttpClient('', '', '');\r\n  }\r\n\r\n  extractData(res) {\r\n    if (res.status < 200 || res.status >= 300) {\r\n      throw new Error('Bad response status: ' + res.status);\r\n    }\r\n  }\r\n\r\n  handleError(error: any): Promise<any> {\r\n    console.error('An error occurred', error); // for demo purposes only\r\n    return Promise.reject(error.message || error);\r\n  }\r\n\r\n  getUserToken() {\r\n    let data = JSON.parse(localStorage.getItem('currentUser')) || this.defaultData;\r\n    return data;\r\n  }\r\n}\r\n","export const serverURL = 'https://herokutuan.herokuapp.com';\r\nexport const tasklistsPATH = '/task_lists';\r\nexport const todosPATH = 'todos';\r\n\r\nexport const userCreatePATH = '/auth';\r\nexport const userPasswordPATH = '/auth/password';\r\nexport const userSignInPATH = '/auth/sign_in';\r\nexport const getUsersPATH = '/users';\r\n\r\nexport const searchTodoPATH = '/search';\r\n\r\nexport const sharePATH = '/share';\r\nexport const tasklistsAuthorizedPATH = '/shared';\r\n","import {autoinject} from 'aurelia-framework';\r\nimport {User, PasswordChange} from './models';\r\nimport {HttpClient} from 'aurelia-http-client';\r\nimport {AuthenService} from './authen.service';\r\nimport * as PRODUCT from './constants';\r\n\r\nlet defaultData = {'uid': {value: null}, 'client': {value: null}, 'access-token': {value: null}};\r\nlet currentUser = JSON.parse(localStorage.getItem('currentUser')) || defaultData;\r\n\r\nlet httpClient = new HttpClient();\r\n\r\nhttpClient.configure(config => {\r\n  config\r\n    .withBaseUrl(PRODUCT.serverURL)\r\n    .withHeader('Content-Type', 'application/json; charset=utf-8')\r\n    .withHeader('Uid', currentUser['uid'].value)\r\n    .withHeader('Client', currentUser['client'].value)\r\n    .withHeader('Access-Token', currentUser['access-token'].value)\r\n});\r\n\r\n@autoinject()\r\nexport class UserService {\r\n  constructor(private authenService: AuthenService) {\r\n  }\r\n\r\n  createUser(user: User) {\r\n    return httpClient.post(PRODUCT.userCreatePATH, user)\r\n      .then(response => {\r\n        return response;\r\n      })\r\n      .catch((error) => {\r\n        console.log('got failure', error);\r\n      });\r\n  }\r\n\r\n  changePassword(changepassword: PasswordChange) {\r\n    return httpClient.put(PRODUCT.userPasswordPATH, changepassword)\r\n      .then(response => {\r\n        return JSON.parse(response.response);\r\n      })\r\n      .catch((error) => console.log('got failure', error));\r\n  }\r\n\r\n  getUsers() {\r\n    return httpClient.get(PRODUCT.getUsersPATH)\r\n      .then(response => {\r\n        return JSON.parse(response.response);\r\n      })\r\n      .catch((error) => console.log('got failure', error));\r\n  }\r\n\r\n  getCurrentUser() {\r\n    let currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n    return currentUser['uid'].value;\r\n  }\r\n}\r\n","import {autoinject} from 'aurelia-framework';\r\nimport {UserService} from '../../utils/user.service'\r\nimport {RouterConfiguration, Router} from 'aurelia-router';\r\n\r\n@autoinject()\r\nexport class DashBoard {\r\n  router: Router;\r\n  current_user: string;\r\n\r\n  constructor(private userService: UserService) {}\r\n\r\n  configureRouter(config: RouterConfiguration, router: Router) {\r\n    config.title = 'Dashboard';\r\n    config.map([\r\n      {route: 'tasklists', moduleId: 'components/dashboard/tasklists/tasklists', nav: true, name: 'tasklists', title: 'Tasklists'},\r\n      {route: 'profile',   moduleId: 'components/dashboard/profile/profile',     nav: true, name: 'profile',   title: 'Profile'},\r\n      {route: '', redirect: 'tasklists' },\r\n    ]);\r\n\r\n    this.router = router;\r\n  }\r\n\r\n  created() {\r\n    this.current_user = this.userService.getCurrentUser();\r\n  }\r\n}\r\n","import {autoinject} from 'aurelia-framework';\r\nimport {AuthenService} from '../../utils/authen.service';\r\nimport {Router} from 'aurelia-router';\r\nimport {DialogService} from 'aurelia-dialog';\r\n\r\nimport {Notify} from '../notify/notify';\r\n\r\nimport * as jQuery from 'jquery';\r\n\r\n@autoinject()\r\nexport class Login {\r\n  userLogin: any = {};\r\n  loading = false;\r\n\r\n  constructor(private router: Router,\r\n              public dialogService: DialogService,\r\n              private authenService: AuthenService) {\r\n  }\r\n\r\n  created() {\r\n    this.authenService.logout();\r\n  }\r\n\r\n  login() {\r\n    this.loading = true;\r\n    this.authenService.login(this.userLogin.email, this.userLogin.password)\r\n      .then(() => {\r\n          this.router.navigate('dashboard');\r\n          this.loading = false;\r\n        }\r\n      )\r\n      .catch((error) => {\r\n        console.log('Login fail', error);\r\n        this.loading = false;\r\n        this.notify('error', 'Login error, email or password is incorrect!');\r\n      })\r\n  }\r\n\r\n  notify(type, text) {\r\n    this.dialogService.open({viewModel: Notify, model: {type: type, text: text}})\r\n      .whenClosed(response => {\r\n        if (!response.wasCancelled) {\r\n          console.log('OK');\r\n        } else {\r\n          console.log('Cancel');\r\n        }\r\n        console.log(response.output);\r\n      });\r\n  }\r\n\r\n  attached() {\r\n    this.renderLoginPage();\r\n  }\r\n\r\n  renderLoginPage() {\r\n    let BasePagesLogin = function () {\r\n      let initValidationLogin = function () {\r\n        jQuery('.js-validation-login').validate({\r\n          errorClass: 'help-block text-right animated fadeInDown',\r\n          errorElement: 'div',\r\n          errorPlacement: function (error, e) {\r\n            jQuery(e).parents('.form-group > div').append(error);\r\n          },\r\n          highlight: function (e) {\r\n            jQuery(e).closest('.form-group').removeClass('has-error').addClass('has-error');\r\n            jQuery(e).closest('.help-block').remove();\r\n          },\r\n          success: function (e) {\r\n            jQuery(e).closest('.form-group').removeClass('has-error');\r\n            jQuery(e).closest('.help-block').remove();\r\n          },\r\n          rules: {\r\n            'login-email': {\r\n              required: true,\r\n              email: true\r\n            },\r\n            'login-password': {\r\n              required: true,\r\n              minlength: 8\r\n            }\r\n          },\r\n          messages: {\r\n            'login-email': 'Please enter a valid email address',\r\n            'login-password': {\r\n              required: 'Please provide a password',\r\n              minlength: 'Your password must be at least 8 characters long'\r\n            }\r\n          }\r\n        });\r\n      };\r\n\r\n      return {\r\n        init: function () {\r\n          // Init Login Form Validation\r\n          initValidationLogin();\r\n        }\r\n      };\r\n    }();\r\n\r\n    // Initialize when page loads\r\n    jQuery(function () {\r\n      BasePagesLogin.init();\r\n    });\r\n  }\r\n\r\n}\r\n","import {autoinject} from 'aurelia-framework';\r\nimport {DialogController} from 'aurelia-dialog';\r\n\r\n@autoinject()\r\nexport class Notify {\r\n  message: object;\r\n\r\n  constructor(private controller: DialogController) {\r\n  }\r\n\r\n  activate(model) {\r\n    this.message = model;\r\n  }\r\n}\r\n","import {autoinject} from 'aurelia-framework';\r\nimport {UserService} from '../../utils/user.service';\r\nimport {Router} from 'aurelia-router';\r\nimport {DialogService} from 'aurelia-dialog';\r\n\r\nimport {Notify} from '../notify/notify';\r\n\r\nimport * as jQuery from 'jquery'\r\n\r\n@autoinject()\r\nexport class Register {\r\n  userRegister: any = {};\r\n  loading = false;\r\n\r\n  constructor(private router: Router,\r\n              private dialogService: DialogService,\r\n              private userService: UserService) {\r\n  }\r\n\r\n  register() {\r\n    this.loading = true;\r\n    this.userService.createUser(this.userRegister)\r\n      .then(() => {\r\n        this.loading = false;\r\n        this.router.navigate('login');\r\n        this.notify('info', 'Register success, please login to use the application!');\r\n      })\r\n      .catch((error) => {\r\n        console.log('Register fail', error);\r\n        this.loading = true;\r\n        this.notify('error', 'Register fail, please try again!');\r\n      })\r\n  }\r\n\r\n  notify(type, text) {\r\n    this.dialogService.open({viewModel: Notify, model: {type: type, text: text}})\r\n      .whenClosed(response => {\r\n        if (!response.wasCancelled) {\r\n          console.log('OK');\r\n        } else {\r\n          console.log('Cancel');\r\n        }\r\n        console.log(response.output);\r\n      });\r\n  }\r\n\r\n  attached() {\r\n    this.renderRegisterPage();\r\n  }\r\n\r\n  renderRegisterPage() {\r\n    let BasePagesRegister = function () {\r\n      // Init Register Form Validation, for more examples you can check out https://github.com/jzaefferer/jquery-validation\r\n      let initValidationRegister = function () {\r\n        jQuery('.js-validation-register').validate({\r\n          errorClass: 'help-block text-right animated fadeInDown',\r\n          errorElement: 'div',\r\n          errorPlacement: function (error, e) {\r\n            jQuery(e).parents('.form-group > div').append(error);\r\n          },\r\n          highlight: function (e) {\r\n            jQuery(e).closest('.form-group').removeClass('has-error').addClass('has-error');\r\n            jQuery(e).closest('.help-block').remove();\r\n          },\r\n          success: function (e) {\r\n            jQuery(e).closest('.form-group').removeClass('has-error');\r\n            jQuery(e).closest('.help-block').remove();\r\n          },\r\n          rules: {\r\n            'register-email': {\r\n              required: true,\r\n              email: true\r\n            },\r\n            'register-password': {\r\n              required: true,\r\n              minlength: 8\r\n            },\r\n            'register-password2': {\r\n              required: true,\r\n              equalTo: '#register-password'\r\n            }\r\n          },\r\n          messages: {\r\n            'register-email': 'Please enter a valid email address',\r\n            'register-password': {\r\n              required: 'Please provide a password',\r\n              minlength: 'Your password must be at least 8 characters long'\r\n            },\r\n            'register-password2': {\r\n              required: 'Please provide a password',\r\n              minlength: 'Your password must be at least 8 characters long',\r\n              equalTo: 'Please enter the same password as above'\r\n            }\r\n          }\r\n        });\r\n      };\r\n\r\n      return {\r\n        init: function () {\r\n          // Init Register Form Validation\r\n          initValidationRegister();\r\n        }\r\n      };\r\n    }();\r\n\r\n    // Initialize when page loads\r\n    jQuery(function () {\r\n      BasePagesRegister.init();\r\n    });\r\n  }\r\n}\r\n","export class Authen {\r\n  user_id: number;\r\n  task_list_id: number;\r\n  is_write: boolean;\r\n  user_email: string;\r\n}\r\n","export * from './user';\r\nexport * from './tasklist';\r\nexport * from './password-change';\r\nexport * from './todo';\r\nexport * from './authen';\r\nexport * from './todo-search';\r\n","export class PasswordChange {\r\n    password: string;\r\n    password_confirmation: string;\r\n}\r\n","import {Authen} from './authen';\r\nexport class Tasklist {\r\n  id: number;\r\n  name: string;\r\n  user: string;\r\n  share_count: number;\r\n  todo_count: number;\r\n  done_count: number;\r\n  access: string;\r\n  authorizedUsers: Authen[];\r\n  owner: boolean;\r\n  is_write: boolean;\r\n}\r\n","export class TodoSearch {\r\n    id: number;\r\n    name: string;\r\n    task_list_id: number;\r\n}\r\n","export class Todo {\r\n    id: number;\r\n    name: string;\r\n    done: any;\r\n}\r\n","export class User {\r\n    id: number;\r\n    email: string;\r\n    password: string;\r\n}\r\n","import {autoinject} from 'aurelia-framework';\r\nimport {HttpClient} from 'aurelia-http-client';\r\nimport * as PRODUCT from '../constants';\r\nimport {AuthenService} from '../authen.service';\r\n\r\n\r\n@autoinject()\r\nexport class TasklistService {\r\n  constructor(private authenService: AuthenService, private httpClient: HttpClient) {\r\n  }\r\n\r\n  getTasklists() {\r\n    this.authenService.configHttpClient(\r\n      this.authenService.getUserToken()['uid'].value,\r\n      this.authenService.getUserToken()['client'].value,\r\n      this.authenService.getUserToken()['access-token'].value);\r\n\r\n    return this.httpClient.get(PRODUCT.tasklistsPATH)\r\n      .then(response => {\r\n        return JSON.parse(response.response);\r\n      })\r\n      .catch((error) => console.log('getTasklists got failure', error));\r\n  }\r\n\r\n  getTasklist(tasklist_id: number) {\r\n    return this.httpClient.get(`${PRODUCT.tasklistsPATH}/${tasklist_id}/`)\r\n      .then((response) => {\r\n        return JSON.parse(response.response);\r\n      })\r\n      .catch(() => console.log('getTasklist got failure'));\r\n  }\r\n\r\n  getTasklistsAuthorized() {\r\n    return this.httpClient.get(PRODUCT.tasklistsAuthorizedPATH)\r\n      .then(\r\n        response => {\r\n          return JSON.parse(response.response);\r\n        })\r\n      .catch(() => console.log('getTasklistsAuthorized got failure'));\r\n  }\r\n\r\n  getAuthorizedUsers(tasklist_id: number) {\r\n    return this.httpClient.get(`${PRODUCT.tasklistsPATH}/${tasklist_id}/${PRODUCT.sharePATH}/`)\r\n      .then((response) => {\r\n        return JSON.parse(response.response);\r\n      })\r\n      .catch(() => console.log('got failure'));\r\n  }\r\n\r\n  createAuthorizedUser(tasklist_id: number, user_id: number) {\r\n    return this.httpClient.post(`${PRODUCT.tasklistsPATH}/${tasklist_id}/${PRODUCT.sharePATH}/`, {user_id: user_id})\r\n      .then(\r\n        response => {\r\n          return JSON.parse(response.response);\r\n        })\r\n      .catch(() => console.log('got failure'));\r\n  }\r\n\r\n  updateAuthorizedUser(tasklist_id: number, user_id: number, is_write: boolean) {\r\n    return this.httpClient.put(`${PRODUCT.tasklistsPATH}/${tasklist_id}/${PRODUCT.sharePATH}/`, {\r\n      user_id: user_id,\r\n      is_write: is_write\r\n    })\r\n      .then(\r\n        response => {\r\n          return JSON.parse(response.response);\r\n        })\r\n      .catch(() => console.log('got failure'));\r\n  }\r\n\r\n  deleteAuthorizedUser(tasklist_id: number, user_id: number) {\r\n    return this.httpClient.delete(`${PRODUCT.tasklistsPATH}/${tasklist_id}/${PRODUCT.sharePATH}/${user_id}`)\r\n      .then(\r\n        response => {\r\n          return JSON.parse(response.response);\r\n        })\r\n      .catch(() => console.log('got failure'));\r\n  }\r\n\r\n  createTasklist(tasklistName: string) {\r\n    return this.httpClient.post(`${PRODUCT.tasklistsPATH}`, {name: tasklistName})\r\n      .then(\r\n        response => {\r\n          return JSON.parse(response.response);\r\n        })\r\n      .catch(() => console.log('createTasklist got failure'));\r\n  }\r\n\r\n  deleteTasklist(id: number) {\r\n    return this.httpClient.delete(`${PRODUCT.tasklistsPATH}/${id}/`)\r\n      .then(() => {\r\n        console.log(`delete tasklist ${id} success in service`);\r\n      })\r\n      .catch((error) => console.log('got failure', error));\r\n  }\r\n\r\n  updateTasklist(tasklist_id: number, tasklist_name: string) {\r\n    return this.httpClient.put(`${PRODUCT.tasklistsPATH}/${tasklist_id}`, {name: tasklist_name})\r\n      .then(\r\n        response => {\r\n          return JSON.parse(response.response);\r\n        })\r\n      .catch(() => console.log('got failure'));\r\n  }\r\n\r\n  getTodos(tasklist_id: number) {\r\n    return this.httpClient.get(`${PRODUCT.tasklistsPATH}/${tasklist_id}/${PRODUCT.todosPATH}/`)\r\n      .then(\r\n        response => {\r\n          return JSON.parse(response.response);\r\n        })\r\n      .catch(() => console.log('got failure'));\r\n  }\r\n\r\n  addTodo(tasklist_id: number, name: string) {\r\n    return this.httpClient.post(`${PRODUCT.tasklistsPATH}/${tasklist_id}/${PRODUCT.todosPATH}/`, {name: name})\r\n      .then(response => {\r\n        return JSON.parse(response.response);\r\n      })\r\n      .catch(() => console.log('got failure'));\r\n  }\r\n\r\n  updateTodo(tasklist_id: number, todo_id: number) {\r\n    return this.httpClient.put(`${PRODUCT.tasklistsPATH}/${tasklist_id}/${PRODUCT.todosPATH}/${todo_id}`, {done: true})\r\n      .then(response => {\r\n        return JSON.parse(response.response);\r\n      })\r\n      .catch(() => console.log('got failure'));\r\n  }\r\n\r\n  deleteTodo(tasklist_id: number, todo_id: number) {\r\n    return this.httpClient.delete(`${PRODUCT.tasklistsPATH}/${tasklist_id}/${PRODUCT.todosPATH}/${todo_id}`)\r\n      .then(response => {\r\n        return JSON.parse(response.response);\r\n      })\r\n      .catch(() => console.log('got failure'));\r\n  }\r\n\r\n  extractData(res) {\r\n    if (res.status < 200 || res.status >= 300) {\r\n      throw new Error('Bad response status: ' + res.status);\r\n    }\r\n  }\r\n\r\n  handleError(error: any): Promise<any> {\r\n    console.error('An error occurred', error);\r\n    return Promise.reject(error.message || error);\r\n  }\r\n}\r\n","import {autoinject} from 'aurelia-framework';\r\nimport {UserService} from '../../../utils/user.service'\r\nimport {Router} from 'aurelia-router';\r\n\r\n@autoinject()\r\nexport class Profile {\r\n  newPassword: any = {};\r\n  current_user: string;\r\n\r\n  constructor(private router: Router,\r\n              private userService: UserService) {\r\n  }\r\n\r\n  created() {\r\n    this.current_user = this.userService.getCurrentUser();\r\n  }\r\n\r\n  changePassword() {\r\n    this.userService.changePassword(this.newPassword)\r\n      .then(\r\n        data => {\r\n          this.router.navigate('/');\r\n          alert('Change password success');\r\n        })\r\n      .catch(() => {\r\n        alert('Change password fail')\r\n      })\r\n  }\r\n}\r\n","import {Router} from 'aurelia-router';\r\n\r\nimport {TasklistService} from '../../../utils/services/tasklist.service'\r\nimport {UserService} from '../../../utils/user.service'\r\nimport {User, Tasklist} from '../../../utils/models'\r\n\r\nimport {autoinject} from 'aurelia-framework';\r\nimport {DialogService} from 'aurelia-dialog';\r\nimport {TasklistDetail} from './tasklist-detail/tasklist-detail';\r\nimport {ShareTasklist} from './share-tasklist/share-tasklist';\r\nimport {EditTasklist} from './edit-tasklist/edit-tasklist';\r\n\r\nimport * as jQuery from 'jquery';\r\n\r\n@autoinject()\r\nexport class TaskLists {\r\n  data: Tasklist[] = [];\r\n  users: User[];\r\n  tasklistName: string = '';\r\n  generalData: any = {\r\n    allTasklistOwner: 0, userShare: 0, allTodo:0, allDone:0\r\n  };\r\n\r\n  constructor(private router: Router,\r\n              public dialogService: DialogService,\r\n              public tasklistService: TasklistService,\r\n              public userService: UserService) {\r\n  }\r\n\r\n  created() {\r\n    this.getTasklists();\r\n    this.getUsers();\r\n  }\r\n\r\n  getUsers() {\r\n    this.userService.getUsers()\r\n      .then(data => this.users = data)\r\n      .catch(() => console.log('getUsers fail'))\r\n  }\r\n\r\n  getTasklists() {\r\n    this.tasklistService.getTasklists()\r\n      .then(\r\n        data => {\r\n          this.data = data;\r\n          console.log('Get tasklists success');\r\n          this.generalData.allTasklistOwner = this.data.length;\r\n\r\n          this.data.forEach((item) => {\r\n            this.generalData.allTodo += item.todo_count;\r\n            this.generalData.userShare += item.share_count;\r\n            this.generalData.allDone += item.done_count;\r\n            item.owner = true;\r\n            item.is_write = true;\r\n            item.access = 'Full Access';\r\n            item.user = this.userService.getCurrentUser();\r\n          });\r\n\r\n          this.getTasklistsAuthorized();\r\n        }\r\n      )\r\n      .catch((error) => console.log('getTasklists fail', error))\r\n  }\r\n\r\n  getTasklistsAuthorized() {\r\n    this.tasklistService.getTasklistsAuthorized()\r\n      .then(\r\n        data => {\r\n          data.forEach((item) => {\r\n            item.user = this.users.filter(h => h.id === item.user_id)[0].email;\r\n            item.access = item.is_write ? 'Edit Only' : 'Read Only';\r\n          });\r\n          this.data = this.data.concat(data);\r\n          console.log('getTasklistsAuthorized success');\r\n        }\r\n      )\r\n      .then(() => this.renderDatatable())\r\n      .catch(() => console.log('getTasklistsAuthorized fail'))\r\n  }\r\n\r\n  getTasklist(tasklist_id: number) {\r\n    this.tasklistService.getTasklist(tasklist_id)\r\n      .then(\r\n        data => {\r\n          this.data.filter(h => h.id === tasklist_id)[0].name = data.name;\r\n          console.log(`Get tasklist ${tasklist_id} success`);\r\n        }\r\n      )\r\n      .catch(() => console.log(`Get tasklist ${tasklist_id} fail`)\r\n      )\r\n  }\r\n\r\n  createTasklist() {\r\n    this.tasklistService.createTasklist(this.tasklistName)\r\n      .then(\r\n        response => {\r\n          this.data.push(response);\r\n          this.data[this.data.length - 1].is_write = true;\r\n          this.data[this.data.length - 1].owner = true;\r\n          this.data[this.data.length - 1].user = this.userService.getCurrentUser();\r\n          this.data[this.data.length - 1].authorizedUsers = [];\r\n\r\n          this.generalData.allTasklistOwner++;\r\n\r\n          this.tasklistName = '';\r\n          console.log('Create tasklist success');\r\n        }\r\n      )\r\n      .catch((error) => console.log(`Create tasklist fail`, error))\r\n  }\r\n\r\n  deleteTasklist(id: number): void {\r\n    this.tasklistService.deleteTasklist(id)\r\n      .then(() => {\r\n          this.data = this.data.filter(h => h.id !== id);\r\n          this.generalData.allTasklistOwner--;\r\n          // this.generalData.userShare -= this.data.filter(h => h.id === id)[0].share_count;\r\n        }\r\n      )\r\n      .catch((error) => {\r\n        console.log(`Delete tasklist ${id} fail`, error);\r\n      })\r\n  }\r\n\r\n  showDetail(item) {\r\n    this.dialogService.open({viewModel: TasklistDetail, model: item})\r\n      .whenClosed(response => {\r\n        if (!response.wasCancelled) {\r\n          console.log('OK');\r\n        } else {\r\n          console.log('Cancel');\r\n        }\r\n        console.log(response.output);\r\n      });\r\n  }\r\n\r\n  share(item) {\r\n    this.dialogService.open({viewModel: ShareTasklist, model: item})\r\n      .whenClosed(response => {\r\n        if (!response.wasCancelled) {\r\n          console.log('OK');\r\n        } else {\r\n          console.log('Cancel');\r\n        }\r\n        console.log(response.output);\r\n      });\r\n  }\r\n\r\n  edit(item) {\r\n    this.dialogService.open({viewModel: EditTasklist, model: item})\r\n      .whenClosed(response => {\r\n        if (!response.wasCancelled) {\r\n          item.name = response.output;\r\n          console.log('OK');\r\n        } else {\r\n          console.log('Cancel');\r\n        }\r\n        console.log(response.output);\r\n      });\r\n  }\r\n\r\n  renderDatatable() {\r\n    let BaseTableDatatables = function () {\r\n      // Init full DataTable\r\n      let initDataTableFull = function () {\r\n        jQuery('.js-dataTable-full').DataTable({\r\n          columnDefs: [{orderable: false, targets: [4]}],\r\n          pageLength: 10,\r\n          lengthMenu: [[5, 10, 15, 20], [5, 10, 15, 20]]\r\n        });\r\n      };\r\n\r\n      // DataTables Bootstrap integration\r\n      let bsDataTables = function () {\r\n        let $DataTable = jQuery.fn.dataTable;\r\n\r\n        // Set the defaults for DataTables init\r\n        jQuery.extend(true, $DataTable.defaults, {\r\n          dom: \"<'row'<'col-sm-6'l><'col-sm-6'f>>\" +\r\n          \"<'row'<'col-sm-12'tr>>\" +\r\n          \"<'row'<'col-sm-6'i><'col-sm-6'p>>\",\r\n          renderer: 'bootstrap',\r\n          oLanguage: {\r\n            sLengthMenu: \"_MENU_\",\r\n            sInfo: \"Showing <strong>_START_</strong>-<strong>_END_</strong> of <strong>_TOTAL_</strong>\",\r\n            oPaginate: {\r\n              sPrevious: '<i class=\"fa fa-angle-left\"></i>',\r\n              sNext: '<i class=\"fa fa-angle-right\"></i>'\r\n            }\r\n          }\r\n        });\r\n\r\n        // Default class modification\r\n        jQuery.extend($DataTable.ext.classes, {\r\n          sWrapper: \"dataTables_wrapper form-inline dt-bootstrap\",\r\n          sFilterInput: \"form-control\",\r\n          sLengthSelect: \"form-control\"\r\n        });\r\n\r\n        // Bootstrap paging button renderer\r\n        $DataTable.ext.renderer.pageButton.bootstrap = function (settings, host, idx, buttons, page, pages) {\r\n          let api = new $DataTable.Api(settings);\r\n          let classes = settings.oClasses;\r\n          let lang = settings.oLanguage.oPaginate;\r\n          let btnDisplay, btnClass;\r\n\r\n          let attach = function (container, buttons) {\r\n            let i, ien, node, button;\r\n            let clickHandler = function (e) {\r\n              e.preventDefault();\r\n              if (!jQuery(e.currentTarget).hasClass('disabled')) {\r\n                api.page(e.data.action).draw(false);\r\n              }\r\n            };\r\n\r\n            for (i = 0, ien = buttons.length; i < ien; i++) {\r\n              button = buttons[i];\r\n\r\n              if (jQuery.isArray(button)) {\r\n                attach(container, button);\r\n              }\r\n              else {\r\n                btnDisplay = '';\r\n                btnClass = '';\r\n\r\n                switch (button) {\r\n                  case 'ellipsis':\r\n                    btnDisplay = '&hellip;';\r\n                    btnClass = 'disabled';\r\n                    break;\r\n\r\n                  case 'first':\r\n                    btnDisplay = lang.sFirst;\r\n                    btnClass = button + (page > 0 ? '' : ' disabled');\r\n                    break;\r\n\r\n                  case 'previous':\r\n                    btnDisplay = lang.sPrevious;\r\n                    btnClass = button + (page > 0 ? '' : ' disabled');\r\n                    break;\r\n\r\n                  case 'next':\r\n                    btnDisplay = lang.sNext;\r\n                    btnClass = button + (page < pages - 1 ? '' : ' disabled');\r\n                    break;\r\n\r\n                  case 'last':\r\n                    btnDisplay = lang.sLast;\r\n                    btnClass = button + (page < pages - 1 ? '' : ' disabled');\r\n                    break;\r\n\r\n                  default:\r\n                    btnDisplay = button + 1;\r\n                    btnClass = page === button ?\r\n                      'active' : '';\r\n                    break;\r\n                }\r\n\r\n                if (btnDisplay) {\r\n                  node = jQuery('<li>', {\r\n                    'class': classes.sPageButton + ' ' + btnClass,\r\n                    'aria-controls': settings.sTableId,\r\n                    'tabindex': settings.iTabIndex,\r\n                    'id': idx === 0 && typeof button === 'string' ?\r\n                      settings.sTableId + '_' + button :\r\n                      null\r\n                  })\r\n                    .append(jQuery('<a>', {\r\n                        'href': '#'\r\n                      })\r\n                        .html(btnDisplay)\r\n                    )\r\n                    .appendTo(container);\r\n\r\n                  settings.oApi._fnBindAction(\r\n                    node, {action: button}, clickHandler\r\n                  );\r\n                }\r\n              }\r\n            }\r\n          };\r\n\r\n          attach(\r\n            jQuery(host).empty().html('<ul class=\"pagination\"/>').children('ul'),\r\n            buttons\r\n          );\r\n        };\r\n\r\n        // TableTools Bootstrap compatibility - Required TableTools 2.1+\r\n        if ($DataTable.TableTools) {\r\n          // Set the classes that TableTools uses to something suitable for Bootstrap\r\n          jQuery.extend(true, $DataTable.TableTools.classes, {\r\n            \"container\": \"DTTT btn-group\",\r\n            \"buttons\": {\r\n              \"normal\": \"btn btn-default\",\r\n              \"disabled\": \"disabled\"\r\n            },\r\n            \"collection\": {\r\n              \"container\": \"DTTT_dropdown dropdown-menu\",\r\n              \"buttons\": {\r\n                \"normal\": \"\",\r\n                \"disabled\": \"disabled\"\r\n              }\r\n            },\r\n            \"print\": {\r\n              \"info\": \"DTTT_print_info\"\r\n            },\r\n            \"select\": {\r\n              \"row\": \"active\"\r\n            }\r\n          });\r\n\r\n          // Have the collection use a bootstrap compatible drop down\r\n          jQuery.extend(true, $DataTable.TableTools.DEFAULTS.oTags, {\r\n            \"collection\": {\r\n              \"container\": \"ul\",\r\n              \"button\": \"li\",\r\n              \"liner\": \"a\"\r\n            }\r\n          });\r\n        }\r\n      };\r\n\r\n      return {\r\n        init: function () {\r\n          bsDataTables();\r\n          initDataTableFull();\r\n        }\r\n      };\r\n    }();\r\n\r\n    // Initialize when page loads\r\n    jQuery(function () {\r\n      BaseTableDatatables.init();\r\n    });\r\n  }\r\n}\r\n","import {autoinject} from 'aurelia-framework';\r\nimport {DialogController} from 'aurelia-dialog';\r\nimport {User, Tasklist} from '../../../../utils/models';\r\nimport {TasklistService} from '../../../../utils/services/tasklist.service';\r\n\r\n@autoinject()\r\nexport class EditTasklist {\r\n  tasklist: Tasklist;\r\n  rename: string;\r\n\r\n  constructor(private controller: DialogController,\r\n              private tasklistService: TasklistService) {\r\n  }\r\n\r\n  activate(tasklist) {\r\n    this.rename = tasklist.name;\r\n    this.tasklist = tasklist;\r\n  }\r\n\r\n  updateTasklist(tasklist_name: string): void {\r\n    this.tasklistService.updateTasklist(this.tasklist.id, tasklist_name)\r\n      .then(() => console.log('Rename tasklist success'))\r\n      .then(() => this.controller.ok(tasklist_name))\r\n      .catch(() => {\r\n        console.log('Rename tasklist fail');\r\n      })\r\n  }\r\n\r\n  changeName(event) {\r\n    if(event.target.dataset.name) {\r\n      this.rename = event.target.dataset.name;\r\n    }\r\n  }\r\n\r\n}\r\n","import {autoinject} from 'aurelia-framework';\r\nimport {DialogController} from 'aurelia-dialog';\r\nimport {User, Authen, Tasklist} from '../../../../utils/models';\r\nimport {UserService} from '../../../../utils/user.service';\r\nimport {TasklistService} from '../../../../utils/services/tasklist.service';\r\n\r\n@autoinject()\r\nexport class ShareTasklist {\r\n  tasklist: Tasklist;\r\n  authorizedUsers: Authen[];\r\n  users: User[] = [];\r\n\r\n  constructor(private controller: DialogController,\r\n              private userService: UserService,\r\n              private tasklistService: TasklistService) {\r\n  }\r\n\r\n  activate(tasklist) {\r\n    this.tasklist = tasklist;\r\n  }\r\n\r\n  created() {\r\n    this.getUsers();\r\n    this.getAuthorizedUsers(this.tasklist.id);\r\n  }\r\n\r\n  getUsers() {\r\n    this.userService.getUsers()\r\n      .then(\r\n        data => {\r\n          this.users = data;\r\n          console.log('Get users success');\r\n          this.users = this.users.filter(h => h.email !== this.userService.getCurrentUser()[0]);\r\n          if (this.authorizedUsers) {\r\n            this.authorizedUsers.forEach((item) => {\r\n              item.user_email = this.users.filter(h => h.id === item.user_id)[0].email;\r\n              this.users = this.users.filter(h => h.id !== item.user_id);\r\n            })\r\n          }\r\n        })\r\n      .catch(error => console.log('Get users fail')\r\n    )\r\n  }\r\n\r\n  getAuthorizedUsers(tasklist_id: number) {\r\n    this.tasklistService.getAuthorizedUsers(tasklist_id)\r\n      .then(\r\n        data => {\r\n          this.authorizedUsers = data;\r\n          this.authorizedUsers.map( item => {\r\n            item.user_email = this.users.filter(h => h.id === item.user_id)[0].email;\r\n          });\r\n          console.log(this.authorizedUsers, 'Get who authed tasklists success');\r\n        }\r\n      )\r\n      .catch((error) => console.log('getAuthorizedUsers fail', error))\r\n  }\r\n\r\n  createAuthorizedUser(user_id: number) {\r\n    this.tasklistService.createAuthorizedUser(this.tasklist.id, user_id)\r\n      .then(\r\n        data => {\r\n          this.authorizedUsers.push(data);\r\n          let email = this.users.filter(h => h.id === data.user_id)[0].email;\r\n          this.authorizedUsers[this.authorizedUsers.length - 1].user_email = email;\r\n          console.log(`Create Authen users success`);\r\n\r\n          this.tasklist.share_count++;\r\n          this.users = this.users.filter(h => h.id !== user_id);\r\n        })\r\n      .catch(error => console.log('Create Authen users fail')\r\n    )\r\n  }\r\n\r\n  deleteAuthorizedUser(user_id: number) {\r\n    this.tasklistService.deleteAuthorizedUser(this.tasklist.id, user_id)\r\n      .then(\r\n        data => {\r\n          let email = this.authorizedUsers.filter(h => h.user_id === user_id)[0].user_email;\r\n          this.users.push({id: user_id, email: email, password: ''});\r\n          this.authorizedUsers = this.authorizedUsers.filter(h => h.user_id !== user_id);\r\n          console.log(`Delete Authen users success`);\r\n\r\n          this.tasklist.share_count--\r\n        })\r\n      .catch(error => console.log('Delete Authen users fail')\r\n    )\r\n  }\r\n\r\n  updateAuthorizedUser(user_id: number) {\r\n    let authen_user = this.authorizedUsers.filter(h => h.user_id === user_id)[0];\r\n    this.tasklistService.updateAuthorizedUser(this.tasklist.id, user_id, !authen_user.is_write)\r\n      .then(\r\n        data => {\r\n          console.log(authen_user);\r\n          authen_user.is_write = data.is_write;\r\n          console.log('Update Authen users success');\r\n        })\r\n      .catch(error => console.log('Update Authen users fail')\r\n    )\r\n  }\r\n}\r\n","import {autoinject} from 'aurelia-framework';\r\nimport {DialogController} from 'aurelia-dialog';\r\nimport {Todo, Tasklist} from '../../../../utils/models';\r\nimport {TasklistService} from '../../../../utils/services/tasklist.service';\r\n\r\nconst mockdata: Todo[] = [\r\n  {id: 1, name: 'todo1', done: true},\r\n  {id: 2, name: 'todo2', done: true},\r\n  {id: 3, name: 'todo3', done: true},\r\n  {id: 4, name: 'todo4', done: false},\r\n  {id: 5, name: 'todo5', done: false},\r\n  {id: 6, name: 'todo6', done: false},\r\n];\r\n\r\n@autoinject()\r\nexport class TasklistDetail {\r\n  tasklist: Tasklist;\r\n  todos: Todo[] = [];\r\n  newTodo: string = '';\r\n\r\n  constructor(private controller: DialogController,\r\n              private tasklistService: TasklistService) {\r\n  }\r\n\r\n  activate(tasklist) {\r\n    this.tasklist = tasklist;\r\n  }\r\n\r\n  created() {\r\n    this.getTodos();\r\n  }\r\n\r\n  getTodos() {\r\n    this.tasklistService.getTodos(this.tasklist.id)\r\n      .then(\r\n        data => {\r\n          this.todos = data;\r\n          console.log('Get todos success');\r\n        })\r\n      .catch(error => console.log('Get todos fail'))\r\n  }\r\n\r\n  addTodo(newTodo) {\r\n    this.tasklistService.addTodo(this.tasklist.id, this.newTodo)\r\n      .then(\r\n        () => {\r\n          console.log(`Add todos ${this.newTodo} success`);\r\n          this.getTodos();\r\n        })\r\n      .catch(error => console.log(`Add todos ${this.newTodo} fail`))\r\n    this.newTodo = '';\r\n  }\r\n\r\n  updateTodo(todo_id: number) {\r\n    this.tasklistService.updateTodo(this.tasklist.id, todo_id)\r\n      .then(\r\n        data => {\r\n          console.log(`Done todo ${todo_id} success`);\r\n          this.getTodos();\r\n        })\r\n      .catch(error => console.log(`Done todo ${todo_id} fail`)\r\n    )\r\n  }\r\n\r\n  deleteTodo(todo_id: number) {\r\n    this.tasklistService.deleteTodo(this.tasklist.id, todo_id)\r\n      .then(\r\n        data => {\r\n          console.log(`Delete todo ${todo_id} success`);\r\n          this.getTodos();\r\n        })\r\n      .catch(error => {\r\n        console.log(`Delete todo ${todo_id} fail`);\r\n        this.getTodos();\r\n      })\r\n  }\r\n\r\n  doneAllTodos() {\r\n    this.todos.forEach((item) => {\r\n      if (!item.done) {\r\n        this.updateTodo(item.id);\r\n      }\r\n    });\r\n    console.log('Done all todos');\r\n  }\r\n\r\n  deleteAllDones() {\r\n    this.todos.forEach((item) => {\r\n      if (item.done) {\r\n        this.deleteTodo(item.id);\r\n      }\r\n    });\r\n    console.log('Delete all dones');\r\n  }\r\n}\r\n","import {NavigationInstruction, Next, PipelineStep, Redirect, RouterConfiguration, Router} from 'aurelia-router';\r\n\r\nexport class App {\r\n  router: Router;\r\n\r\n  configureRouter(config: RouterConfiguration, router: Router) {\r\n    config.title = 'Login';\r\n    config.addAuthorizeStep(AuthorizeStep);\r\n    config.map([\r\n      {route: 'login',     moduleId: 'components/login/login',          nav: true, name: 'login',     title: 'Login',     settings: { roles: [] }},\r\n      {route: 'register',  moduleId: 'components/register/register',    nav: true, name: 'register',  title: 'Register',  settings: { roles: [] }},\r\n      {route: 'dashboard', moduleId: 'components/dashboard/dashboard',  nav: true, name: 'dashboard', title: 'Dashboard', settings: { roles: ['admin'] }},\r\n      {route: '', redirect: 'login'},\r\n    ]);\r\n\r\n    this.router = router;\r\n  }\r\n}\r\n\r\nclass AuthorizeStep implements PipelineStep {\r\n  public run(navigationInstruction: NavigationInstruction, next: Next): Promise<any> {\r\n    if (navigationInstruction.getAllInstructions().some(i => i.config.settings.roles.indexOf('admin') !== -1)) {\r\n      let isAdmin = localStorage.getItem('authenIsOk');\r\n      if (!isAdmin) {\r\n        return next.cancel(new Redirect('login'));\r\n      }\r\n    }\r\n\r\n    return next();\r\n  }\r\n}\r\n"],"sourceRoot":".."}